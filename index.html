<!doctype html><html lang=en><meta charset=UTF-8><meta content="width=device-width,initial-scale=1.0,user-scalable=no" name=viewport><link href=https://cdnjs.cloudflare.com/ajax/libs/firacode/6.2.0/fira_code.min.css rel=stylesheet><script type=module>import init, * as bindings from '/tachyonfx-ftl/tachyonfx-ftl-web-e7aacba200910fde.js';
const wasm = await init({ module_or_path: '/tachyonfx-ftl/tachyonfx-ftl-web-e7aacba200910fde_bg.wasm' });


window.wasmBindings = bindings;


dispatchEvent(new CustomEvent("TrunkApplicationStarted", {detail: {wasm}}));</script><title>TachyonFX FTL</title><style>html,body{color:#fff;background-color:#121212;flex-direction:column;width:100vw;height:100vh;margin:0;padding:0;font-family:Fira Code,monospace;display:flex;overflow:hidden}#container{flex:1;width:100%;min-height:0;display:flex}#editor{width:50%;height:100%;position:relative}.ace_autocomplete{width:400px!important;max-width:60vw!important}#divider{cursor:col-resize;background-color:#333;width:5px}#content{width:50%;height:100%;padding:1em;overflow:auto}#canvas-input{color:#fff;resize:vertical;box-sizing:border-box;background:#1e1e1e;border:none;border-top:1px solid #333;width:100%;height:100px;padding:.5em;font-family:inherit;font-size:14px}pre{margin:0;font-size:16px}#run-button{z-index:10;color:#d5c4a1;cursor:pointer;background-color:#323232b3;border:none;border-radius:4px;align-items:center;padding:6px 10px;font-family:Fira Code,monospace;transition:background-color .2s;display:flex;position:absolute;top:10px;right:10px}#run-button:hover{background-color:#464646e6}#run-button .icon{margin-right:5px;font-size:16px}#run-button .tooltip{opacity:.7;margin-left:5px;font-size:11px}</style><link crossorigin href=/tachyonfx-ftl/tachyonfx-ftl-web-e7aacba200910fde.js integrity=sha384-ybxpLxPP5mX7YeafqTuU+vfiAI/gJQ28TxYiJMwtUupbbsp9yMQOth0+oBGjm/2N rel=modulepreload><link as=fetch crossorigin href=/tachyonfx-ftl/tachyonfx-ftl-web-e7aacba200910fde_bg.wasm integrity=sha384-ZvVtqrzJzOvObRMA1MSPQWDQGbm6pcXKFh59pQKYJXMcUH8MBHfnfwvKpIuSVAOq rel=preload type=application/wasm></head><body><div id=container><div id=editor></div><div id=divider></div><div id=content></div></div><textarea placeholder="Paste ANSI-escaped ASCII here..." id=canvas-input></textarea><script src=https://cdn.jsdelivr.net/npm/pako@2.1.0/dist/pako.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/ace/1.32.3/ace.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/ace/1.32.3/ext-language_tools.js></script><script>var base64UrlEncode=(a=>{let c=``;const b=Array.from(a,a=>String.fromCharCode(a)).join(c);return btoa(b).replace(/\+/g,`-`).replace(/\//g,`_`).replace(/=+$/,c)});var checkAndRedirect=(()=>{let c=`canvas`,b=`code`;const a=new URLSearchParams(window.location.search);if(!a.has(b)&&!a.has(c)){const a=new URL(window.location);a.searchParams.set(b,`dVNRb5swEH7nV9zTZCqUEJpNFVUfmk6bJk2r1nVPUxU5cBArjs1s0yT_fmcDSUZTYylgX7677_vuJDpYSb7BJTfI4Q6esHB5rnDH5mkCc9r08ym-jSRFbrkttHsbSiG0byj6ek6h0XQKz-YAbo0WodDblVDcCa1s7q9mE7hvGnkArCqCAKdhpd26Rweuyq4k8HlsVO3zvOGGS4mSffgTAS1_VvESl5XR22VVswcttcnzr4YfEmCzLKV6vimHptEypM7zny0vH1sXxwHBr8lOuHVgw86YxckxRSms1fIV2WXEhW5Vge9innSNo5c4qJJN4NFAQUcOwaKnRS-dDhYqbQB5sQ7ESaqrILojqdmNT_9dKOSm98Jl_nz28b-LcKOISCfgHTyglF-EpLLz_Id2bKH3nWXnF_ejauM-hSH73LIKUSOsRR0UH3QPNrTXGUv3aVgeIhq7RgJYKUoEoXqzw3E4WwrFfjfP-rPeqa7paL9Fn6X-iRNwY8m7MtmRPNk4JK2kKDZEoRPlb6sdhqvGEL6ql9Zx49iMyk6OoCfrg8JnVl92-Cwd7hupiSW1f5fsFnyvEmvf6bzY1IbQSmC8oQr28YVaXJbAWL2BDC-FqmmqSBrrZ4cr6IBAV7Cqj7FhPpw-m44zHeepf4KOfeE9vC-6RMkPFvirFiU4I-oajc859GljcMtda1AeTnr5_7BZMrBnWTrxJk7mPscoSZAjSBP0IGVGOKHdjwM-1L-QFHzsiv6ri_1FExDc6af35X2baBSvpv8A`);a.searchParams.set(c,`3djPTsIwHAfwO6-wy-8BPDBA_mQ3Tx69GcPBFK2WsK3JBhJvhJMHDwoL8fn2JHYjk43B1rW0A5smxIWtn-9vv6ZBY9h0jGG7b7Ws1nXTMvsDq9NjVzrRFXaBfbK_w-ATkIcRjOjMfQbkg8F1nzE0HQf5T3T6GN_Od1cYLC5hfkVpGryRlpAdhBCQHOyhEgQSjzoJpHYCKSCkn2e2LXPQtcyumTyw37R6bas7KNkaBTdGe2NkownOb43C5bhbs7wYctUjJ6neEh7oDFz8hj2YuHQOc4KmMPYBu3T2SmDm2tj3E6fiTORUmeCdhcrEcaiHYUqQmwQDPZkIKQxVJRPP0J7pQCj-TIUr_31xG2wRwP3YtsfIgZto217BnUdZ1458oC9wi237ROsqKlG4-dibVcsV1HHK_mjd9uRwpTL1qjDkTuit6yhHwiULg50L4zNiAUe16sFl1lZnlEJysmSJepFiwv9O3BlLtII2GVy4WbFZUkhRlwQsdn3Hc3VuuJQtEap5r8LElHDN69SNzBrXvBXVzMy96_xU8_aFuBxahWYR8nFxvimUdLAAuqzKHPL0maAFzd0Zx3sFdKMlzCn55bH3zzwRtd4WOdTlQmoV27FKp-gg1_LL_hxm_N-Fxi8`);window.location.href=a.toString()}});var decodeAndInflate=(a=>{const b=base64Decode(a);const c=pako.inflate(b,{raw:!0});return new TextDecoder().decode(c)});var updateQueryParam=((a,b)=>{let d=null;const c=new URL(window.location);if(b===d){c.searchParams.delete(a)}else{c.searchParams.set(a,b)};history.replaceState(d,``,c)});var base64Decode=(a=>{let d=4;const b=a.replace(/-/g,`+`).replace(/_/g,`/`).padEnd(a.length+ (d- a.length%d)%d,`=`);const c=atob(b);return Uint8Array.from([...c].map(a=>a.charCodeAt(0)))});var deflateAndEncode=(a=>{const b=new TextEncoder().encode(a);const c=pako.deflate(b,{raw:!0});return base64UrlEncode(c)});const editor=ace.edit(`editor`);editor.setTheme(`ace/theme/gruvbox`);editor.session.setMode(`ace/mode/rust`);editor.setFontSize(`14px`);editor.setOptions({enableBasicAutocompletion:!0,enableSnippets:!0,enableLiveAutocompletion:!0});window.addEventListener(`TrunkApplicationStarted`,a=>{checkAndRedirect();window.wasmBindings.update_canvas(document.getElementById(`canvas-input`).value);const b=document.getElementById(`editor`);const c=document.createElement(`button`);c.id=`run-button`;c.innerHTML=`<span class="icon">â–¶</span><span>Run</span><span class="tooltip">(Ctrl+S, Cmd+S)</span>`;b.appendChild(c);c.addEventListener(`click`,()=>{const a=editor.getValue(0);const b=deflateAndEncode(a);updateQueryParam(`code`,b);const c=deflateAndEncode(canvasInput.value);updateQueryParam(`canvas`,c);try{window.wasmBindings.compile_dsl(a);console.log(`DSL code sent to Rust for compilation`)}catch(a){console.error(`Error calling Rust compile_dsl:`,a)}})});const tfxCompletions=[{value:`Duration::from_ms(`,score:1000,meta:`TachyonFX`},{value:`Duration::new(`,score:1000,meta:`TachyonFX`},{value:`Interpolation::BackIn`,score:1000,meta:`Interpolation`},{value:`Interpolation::BackOut`,score:1000,meta:`Interpolation`},{value:`Interpolation::BackInOut`,score:1000,meta:`Interpolation`},{value:`Interpolation::BounceIn`,score:1000,meta:`Interpolation`},{value:`Interpolation::BounceOut`,score:1000,meta:`Interpolation`},{value:`Interpolation::BounceInOut`,score:1000,meta:`Interpolation`},{value:`Interpolation::CircIn`,score:1000,meta:`Interpolation`},{value:`Interpolation::CircOut`,score:1000,meta:`Interpolation`},{value:`Interpolation::CircInOut`,score:1000,meta:`Interpolation`},{value:`Interpolation::CubicIn`,score:1000,meta:`Interpolation`},{value:`Interpolation::CubicOut`,score:1000,meta:`Interpolation`},{value:`Interpolation::CubicInOut`,score:1000,meta:`Interpolation`},{value:`Interpolation::ElasticIn`,score:1000,meta:`Interpolation`},{value:`Interpolation::ElasticOut`,score:1000,meta:`Interpolation`},{value:`Interpolation::ElasticInOut`,score:1000,meta:`Interpolation`},{value:`Interpolation::ExpoIn`,score:1000,meta:`Interpolation`},{value:`Interpolation::ExpoOut`,score:1000,meta:`Interpolation`},{value:`Interpolation::ExpoInOut`,score:1000,meta:`Interpolation`},{value:`Interpolation::Linear`,score:1000,meta:`Interpolation`},{value:`Interpolation::QuadIn`,score:1000,meta:`Interpolation`},{value:`Interpolation::QuadOut`,score:1000,meta:`Interpolation`},{value:`Interpolation::QuadInOut`,score:1000,meta:`Interpolation`},{value:`Interpolation::QuartIn`,score:1000,meta:`Interpolation`},{value:`Interpolation::QuartOut`,score:1000,meta:`Interpolation`},{value:`Interpolation::QuartInOut`,score:1000,meta:`Interpolation`},{value:`Interpolation::QuintIn`,score:1000,meta:`Interpolation`},{value:`Interpolation::QuintOut`,score:1000,meta:`Interpolation`},{value:`Interpolation::QuintInOut`,score:1000,meta:`Interpolation`},{value:`Interpolation::Reverse`,score:1000,meta:`Interpolation`},{value:`Interpolation::SineIn`,score:1000,meta:`Interpolation`},{value:`Interpolation::SineOut`,score:1000,meta:`Interpolation`},{value:`Interpolation::SineInOut`,score:1000,meta:`Interpolation`},{value:`BackIn`,score:700,meta:`Interpolation`},{value:`BackOut`,score:700,meta:`Interpolation`},{value:`BackInOut`,score:700,meta:`Interpolation`},{value:`BounceIn`,score:700,meta:`Interpolation`},{value:`BounceOut`,score:700,meta:`Interpolation`},{value:`BounceInOut`,score:700,meta:`Interpolation`},{value:`CircIn`,score:700,meta:`Interpolation`},{value:`CircOut`,score:700,meta:`Interpolation`},{value:`CircInOut`,score:700,meta:`Interpolation`},{value:`CubicIn`,score:700,meta:`Interpolation`},{value:`CubicOut`,score:700,meta:`Interpolation`},{value:`CubicInOut`,score:700,meta:`Interpolation`},{value:`ElasticIn`,score:700,meta:`Interpolation`},{value:`ElasticOut`,score:700,meta:`Interpolation`},{value:`ElasticInOut`,score:700,meta:`Interpolation`},{value:`ExpoIn`,score:700,meta:`Interpolation`},{value:`ExpoOut`,score:700,meta:`Interpolation`},{value:`ExpoInOut`,score:700,meta:`Interpolation`},{value:`Linear`,score:700,meta:`Interpolation`},{value:`QuadIn`,score:700,meta:`Interpolation`},{value:`QuadOut`,score:700,meta:`Interpolation`},{value:`QuadInOut`,score:700,meta:`Interpolation`},{value:`QuartIn`,score:700,meta:`Interpolation`},{value:`QuartOut`,score:700,meta:`Interpolation`},{value:`QuartInOut`,score:700,meta:`Interpolation`},{value:`QuintIn`,score:700,meta:`Interpolation`},{value:`QuintOut`,score:700,meta:`Interpolation`},{value:`QuintInOut`,score:700,meta:`Interpolation`},{value:`Reverse`,score:700,meta:`Interpolation`},{value:`SineIn`,score:700,meta:`Interpolation`},{value:`SineOut`,score:700,meta:`Interpolation`},{value:`SineInOut`,score:700,meta:`Interpolation`},{value:`Color::Rgb(`,score:700,meta:`Color`},{value:`Color::from_u32(`,score:700,meta:`Color`},{value:`Color::Indexed(`,score:700,meta:`Color`},{value:`Color::Reset`,score:700,meta:`Color`},{value:`Color::Black`,score:700,meta:`Color`},{value:`Color::Red`,score:700,meta:`Color`},{value:`Color::Green`,score:700,meta:`Color`},{value:`Color::Yellow`,score:700,meta:`Color`},{value:`Color::Blue`,score:700,meta:`Color`},{value:`Color::Magenta`,score:700,meta:`Color`},{value:`Color::Cyan`,score:700,meta:`Color`},{value:`Color::Gray`,score:700,meta:`Color`},{value:`Color::DarkGray`,score:700,meta:`Color`},{value:`Color::LightRed`,score:700,meta:`Color`},{value:`Color::LightGreen`,score:700,meta:`Color`},{value:`Color::LightYellow`,score:700,meta:`Color`},{value:`Color::LightBlue`,score:700,meta:`Color`},{value:`Color::LightMagenta`,score:700,meta:`Color`},{value:`Color::LightCyan`,score:700,meta:`Color`},{value:`Color::White`,score:700,meta:`Color`},{value:`Constraint::Length(`,score:800,meta:`Constraint`},{value:`Constraint::Percentage(`,score:800,meta:`Constraint`},{value:`Constraint::Min(`,score:800,meta:`Constraint`},{value:`Constraint::Max(`,score:800,meta:`Constraint`},{value:`Constraint::Fill(`,score:800,meta:`Constraint`},{value:`Constraint::Ratio(`,score:800,meta:`Constraint`},{value:`Length(`,score:400,meta:`Constraint`},{value:`Percentage(`,score:400,meta:`Constraint`},{value:`Min(`,score:400,meta:`Constraint`},{value:`Max(`,score:400,meta:`Constraint`},{value:`Fill(`,score:400,meta:`Constraint`},{value:`Ratio(`,score:400,meta:`Constraint`},{value:`Layout::vertical(`,score:800,meta:`Layout`},{value:`Layout::horizontal(`,score:800,meta:`Layout`},{value:`.horizontal_margin(`,score:500,meta:`Layout`},{value:`.vertical_margin(`,score:500,meta:`Layout`},{value:`.margin(`,score:500,meta:`Layout`},{value:`.spacing(`,score:500,meta:`Layout`},{value:`.constraints(`,score:500,meta:`Layout`},{value:`Motion::LeftToRight`,score:900,meta:`Motion`},{value:`Motion::RightToLeft`,score:900,meta:`Motion`},{value:`Motion::UpToDown`,score:900,meta:`Motion`},{value:`Motion::DownToUp`,score:900,meta:`Motion`},{value:`LeftToRight`,score:900,meta:`Motion`},{value:`RightToLeft`,score:900,meta:`Motion`},{value:`UpToDown`,score:900,meta:`Motion`},{value:`DownToUp`,score:900,meta:`Motion`},{value:`Style::new()`,score:800,meta:`Style`},{value:`Style::default()`,score:800,meta:`Style`},{value:`.add_modifier(`,score:700,meta:`Style`},{value:`.remove_modifier(`,score:700,meta:`Style`},{value:`.fg(`,score:700,meta:`Style`},{value:`.bg(`,score:700,meta:`Style`},{value:`Modifier::BOLD`,score:1000,meta:`Modifier`},{value:`Modifier::DIM`,score:1000,meta:`Modifier`},{value:`Modifier::ITALIC`,score:1000,meta:`Modifier`},{value:`Modifier::UNDERLINED`,score:1000,meta:`Modifier`},{value:`Modifier::SLOW_BLINK`,score:1000,meta:`Modifier`},{value:`Modifier::RAPID_BLINK`,score:1000,meta:`Modifier`},{value:`Modifier::REVERSED`,score:1000,meta:`Modifier`},{value:`Modifier::HIDDEN`,score:1000,meta:`Modifier`},{value:`Modifier::CROSSED_OUT`,score:1000,meta:`Modifier`},{value:`BOLD`,score:1000,meta:`Modifier`},{value:`DIM`,score:1000,meta:`Modifier`},{value:`ITALIC`,score:1000,meta:`Modifier`},{value:`UNDERLINED`,score:1000,meta:`Modifier`},{value:`SLOW_BLINK`,score:1000,meta:`Modifier`},{value:`RAPID_BLINK`,score:1000,meta:`Modifier`},{value:`REVERSED`,score:1000,meta:`Modifier`},{value:`HIDDEN`,score:1000,meta:`Modifier`},{value:`CROSSED_OUT`,score:1000,meta:`Modifier`},{value:`Rect::new`,score:800,meta:`Rect`},{value:`.clamp(`,score:600,meta:`Rect`},{value:`.inner(`,score:600,meta:`Rect`},{value:`.intersection(`,score:600,meta:`Rect`},{value:`.union(`,score:600,meta:`Rect`},{value:`.offset(`,score:600,meta:`Rect`},{value:`.reversed()`,score:900,meta:`Effect`},{value:`.with_area(`,score:900,meta:`Effect`},{value:`.with_filter(`,score:900,meta:`Effect`},{value:`.with_color_space(`,score:900,meta:`Effect`},{value:`ColorSpace::Rgp`,score:800,meta:`ColorSpace`},{value:`ColorSpace::Hsl`,score:800,meta:`ColorSpace`},{value:`ColorSpace::Hsv`,score:800,meta:`ColorSpace`},{value:`All`,score:800,meta:`CellFilter`},{value:`Area(`,score:800,meta:`CellFilter`},{value:`FgColor(`,score:800,meta:`CellFilter`},{value:`BgColor(`,score:800,meta:`CellFilter`},{value:`Inner(`,score:800,meta:`CellFilter`},{value:`Outer(`,score:800,meta:`CellFilter`},{value:`AllOf(vec![])`,score:800,meta:`CellFilter`},{value:`AnyOf(vec![])`,score:800,meta:`CellFilter`},{value:`NoneOf(vec![])`,score:800,meta:`CellFilter`},{value:`Not(Box::new(`,score:800,meta:`CellFilter`},{value:`Layout(`,score:800,meta:`CellFilter`},{value:`PositionFn(`,score:800,meta:`CellFilter`},{value:`EvalCell(`,score:800,meta:`CellFilter`},{value:`Text`,score:800,meta:`CellFilter`},{value:`CellFilter::All`,score:800,meta:`CellFilter`},{value:`CellFilter::Area(`,score:800,meta:`CellFilter`},{value:`CellFilter::FgColor(`,score:800,meta:`CellFilter`},{value:`CellFilter::BgColor(`,score:800,meta:`CellFilter`},{value:`CellFilter::Inner(`,score:800,meta:`CellFilter`},{value:`CellFilter::Outer(`,score:800,meta:`CellFilter`},{value:`CellFilter::AllOf(vec![])`,score:800,meta:`CellFilter`},{value:`CellFilter::AnyOf(vec![])`,score:800,meta:`CellFilter`},{value:`CellFilter::NoneOf(vec![])`,score:800,meta:`CellFilter`},{value:`CellFilter::Not(Box::new(`,score:800,meta:`CellFilter`},{value:`CellFilter::Layout(`,score:800,meta:`CellFilter`},{value:`CellFilter::PositionFn(`,score:800,meta:`CellFilter`},{value:`CellFilter::EvalCell(`,score:800,meta:`CellFilter`},{value:`CellFilter::Text`,score:800,meta:`CellFilter`},{value:`fx::parallel(&[])`,score:1000,meta:`Effect`},{value:`fx::sequence(&[])`,score:1000,meta:`Effect`},{value:`parallel(&[])`,score:1000,meta:`Effect`},{value:`sequence(&[])`,score:1000,meta:`Effect`},{value:`term256_colors()`,score:1000,meta:`Effect`},{value:`coalesce(`,score:1000,meta:`Effect`},{value:`coalesce_from(`,score:1000,meta:`Effect`},{value:`consume_tick()`,score:1000,meta:`Effect`},{value:`delay(`,score:1000,meta:`Effect`},{value:`dissolve(`,score:1000,meta:`Effect`},{value:`dissolve_to(`,score:1000,meta:`Effect`},{value:`explode(`,score:1000,meta:`Effect`},{value:`fade_from(`,score:1000,meta:`Effect`},{value:`fade_from_fg(`,score:1000,meta:`Effect`},{value:`fade_to(`,score:1000,meta:`Effect`},{value:`fade_to_fg(`,score:1000,meta:`Effect`},{value:`hsl_shift(`,score:1000,meta:`Effect`},{value:`hsl_shift_fg(`,score:1000,meta:`Effect`},{value:`never_complete(`,score:1000,meta:`Effect`},{value:`ping_pong(`,score:1000,meta:`Effect`},{value:`prolong_end(`,score:1000,meta:`Effect`},{value:`prolong_start(`,score:1000,meta:`Effect`},{value:`repeat(`,score:1000,meta:`Effect`},{value:`sleep(`,score:1000,meta:`Effect`},{value:`repeating(`,score:1000,meta:`Effect`},{value:`slide_in(`,score:1000,meta:`Effect`},{value:`slide_out(`,score:1000,meta:`Effect`},{value:`sweep_in(`,score:1000,meta:`Effect`},{value:`sweep_out(`,score:1000,meta:`Effect`},{value:`with_duration(`,score:1000,meta:`Effect`},{value:`timed_never_complete(`,score:1000,meta:`Effect`},{value:`fx::term256_colors()`,score:1000,meta:`Effect`},{value:`fx::coalesce(`,score:1000,meta:`Effect`},{value:`fx::coalesce_from(`,score:1000,meta:`Effect`},{value:`fx::consume_tick()`,score:1000,meta:`Effect`},{value:`fx::delay(`,score:1000,meta:`Effect`},{value:`fx::dissolve(`,score:1000,meta:`Effect`},{value:`fx::dissolve_to(`,score:1000,meta:`Effect`},{value:`fx::explode(`,score:1000,meta:`Effect`},{value:`fx::fade_from(`,score:1000,meta:`Effect`},{value:`fx::fade_from_fg(`,score:1000,meta:`Effect`},{value:`fx::fade_to(`,score:1000,meta:`Effect`},{value:`fx::fade_to_fg(`,score:1000,meta:`Effect`},{value:`fx::hsl_shift(`,score:1000,meta:`Effect`},{value:`fx::hsl_shift_fg(`,score:1000,meta:`Effect`},{value:`fx::never_complete(`,score:1000,meta:`Effect`},{value:`fx::ping_pong(`,score:1000,meta:`Effect`},{value:`fx::prolong_end(`,score:1000,meta:`Effect`},{value:`fx::prolong_start(`,score:1000,meta:`Effect`},{value:`fx::repeat(`,score:1000,meta:`Effect`},{value:`fx::sleep(`,score:1000,meta:`Effect`},{value:`fx::repeating(`,score:1000,meta:`Effect`},{value:`fx::slide_in(`,score:1000,meta:`Effect`},{value:`fx::slide_out(`,score:1000,meta:`Effect`},{value:`fx::sweep_in(`,score:1000,meta:`Effect`},{value:`fx::sweep_out(`,score:1000,meta:`Effect`},{value:`fx::with_duration(`,score:1000,meta:`Effect`},{value:`fx::timed_never_complete(`,score:1000,meta:`Effect`}];const tfxCustomCompleter={getCompletions:((a,b,c,d,e)=>{let g=null;if(!d){e(g,tfxCompletions);return};const f=tfxCompletions.filter(a=>{let b=a.value;return b.startsWith(d)||b.startsWith(`.`)&&b.substring(1).startsWith(d)});e(g,f)})};editor.completers=[tfxCustomCompleter];const canvasInput=document.getElementById(`canvas-input`);const params=new URLSearchParams(window.location.search);const code=params.get(`code`);const canvas=params.get(`canvas`);if(code){try{let a=decodeAndInflate(code);editor.setValue(a,-1)}catch(a){console.warn(`Invalid compressed code in ?code`,a)}};if(canvas){try{canvasInput.value=decodeAndInflate(canvas)}catch(a){console.warn(`Invalid compressed buffer in ?canvas`,a)}};window.addEventListener(`keydown`,a=>{if((a.ctrlKey||a.metaKey)&&a.key===`s`){a.preventDefault();const b=editor.getValue(0);const c=deflateAndEncode(b);updateQueryParam(`code`,c);const d=deflateAndEncode(canvasInput.value);updateQueryParam(`canvas`,d);try{window.wasmBindings.compile_dsl(b);console.log(`DSL code sent to Rust for compilation`)}catch(a){console.error(`Error calling Rust compile_dsl:`,a)}}});canvasInput.addEventListener(`input`,()=>{const a=canvasInput.value;const b=deflateAndEncode(a);console.log(`Compressed buffer (base64):`,b);updateQueryParam(`canvas`,b);try{console.log(`sending canvas event to Rust`);console.log(`Canvas update sent to Rust`);window.wasmBindings.update_canvas(a)}catch(a){console.error(`Error calling Rust update_canvas:`,a)}});const divider=document.getElementById(`divider`);const editorEl=document.getElementById(`editor`);const contentEl=document.getElementById(`content`);let isDragging=!1;divider.addEventListener(`mousedown`,()=>(isDragging=!0));window.addEventListener(`mouseup`,()=>(isDragging=!1));window.addEventListener(`mousemove`,a=>{let c=100,d=`%`;if(!isDragging)return;const b=(a.clientX/window.innerWidth)*c;editorEl.style.width=b+ d;contentEl.style.width=c- b+ d;editor.resize()})</script></body></html>